# ì½”ë”© í…ŒìŠ¤íŠ¸ #11: ìœ íš¨í•œ ê´„í˜¸ - ë‹µë³€

## ë¬¸ì œ ìš”ì•½
ê´„í˜¸ê°€ ì˜¬ë°”ë¥´ê²Œ ì—´ë¦¬ê³  ë‹«í˜”ëŠ”ì§€ íŒë³„í•˜ê¸°

---

## ë‹¹ì‹ ì˜ í’€ì´ (Stack ì‚¬ìš©)

```typescript
function solution(s: string): boolean {
  const key: Record<string, string> = {
    "(": ")",
    "[": "]",
    "{": "}",
  };

  const stack: Array<string> = [];

  for (const char of s) {
    // ì—¬ëŠ” ê´„í˜¸ë©´ ìŠ¤íƒì— push
    if (key[char]) {
      stack.push(char);
      continue;
    }

    // ë‹«ëŠ” ê´„í˜¸ë©´ ìŠ¤íƒì—ì„œ popí•˜ê³  ì§ í™•ì¸
    const last = stack[stack.length - 1];

    if (key[last] === char) {
      stack.pop();
      continue;
    }

    return false;
  }

  // ëª¨ë“  ê´„í˜¸ê°€ ë‹«í˜”ëŠ”ì§€ í™•ì¸
  return stack.length === 0;
}
```

### ì‹œê°„ ë³µì¡ë„
- **O(n)**: ë¬¸ìì—´ì„ í•œ ë²ˆ ìˆœíšŒ

### ê³µê°„ ë³µì¡ë„
- **O(n)**: ìŠ¤íƒì— ìµœëŒ€ nê°œì˜ ê´„í˜¸ ì €ì¥ (ì˜ˆ: "((((((")

### ë™ì‘ ê³¼ì • (ì˜ˆì‹œ: "{[]}")

```
ì…ë ¥: "{[]}"

1ë‹¨ê³„: '{'
   ì—¬ëŠ” ê´„í˜¸ â†’ stack.push('{')
   stack: ['{']

2ë‹¨ê³„: '['
   ì—¬ëŠ” ê´„í˜¸ â†’ stack.push('[')
   stack: ['{', '[']

3ë‹¨ê³„: ']'
   ë‹«ëŠ” ê´„í˜¸ â†’ last = '[', key['['] = ']' âœ…
   stack.pop()
   stack: ['{']

4ë‹¨ê³„: '}'
   ë‹«ëŠ” ê´„í˜¸ â†’ last = '{', key['{'] = '}' âœ…
   stack.pop()
   stack: []

5ë‹¨ê³„: stack.length === 0 â†’ true âœ…
```

### ì¥ì 
- **ìŠ¤íƒ ìë£Œêµ¬ì¡°ë¥¼ ì •í™•í•˜ê²Œ í™œìš©!** (ë°©ê¸ˆ ë°°ìš´ CS ì§€ì‹ ë°”ë¡œ ì ìš© ğŸ‘)
- `Record<string, string>`ë¡œ ì—¬ëŠ”/ë‹«ëŠ” ê´„í˜¸ ë§¤í•‘ ê¹”ë”
- `continue`ë¡œ ëª…í™•í•œ íë¦„ ì œì–´
- í‰ê·  ì‹¤í–‰ ì‹œê°„ **0.0066ms** - ë§¤ìš° ë¹ ë¦„!

---

## ë‹¤ë¥¸ í’€ì´ ë°©ë²•ë“¤

### ë°©ë²• 1: ë‹«ëŠ” ê´„í˜¸ ë§¤í•‘ (ì¼ë°˜ì ì¸ ë°©ë²•)

```typescript
function solution(s: string): boolean {
  const stack: string[] = [];
  const pairs: Record<string, string> = {
    ')': '(',
    ']': '[',
    '}': '{'
  };

  for (const char of s) {
    // ì—¬ëŠ” ê´„í˜¸
    if (char === '(' || char === '[' || char === '{') {
      stack.push(char);
    }
    // ë‹«ëŠ” ê´„í˜¸
    else {
      if (stack.length === 0) return false;
      if (stack.pop() !== pairs[char]) return false;
    }
  }

  return stack.length === 0;
}
```

**ì‹œê°„ ë³µì¡ë„**: O(n)
**ê³µê°„ ë³µì¡ë„**: O(n)
**ì°¨ì´ì **:
- ë‹«ëŠ” ê´„í˜¸ â†’ ì—¬ëŠ” ê´„í˜¸ë¡œ ë§¤í•‘ (ë‹¹ì‹  í’€ì´ì™€ ë°˜ëŒ€)
- `stack.length === 0` ì²´í¬ë¡œ ë‹«ëŠ” ê´„í˜¸ê°€ ë¨¼ì € ë‚˜ì˜¤ëŠ” ê²½ìš° ì²˜ë¦¬
- ë‹¹ì‹ ì˜ í’€ì´ì™€ ë¡œì§ì€ ë™ì¼, ë§¤í•‘ ë°©í–¥ë§Œ ë‹¤ë¦„

---

### ë°©ë²• 2: Switch ë¬¸ ì‚¬ìš©

```typescript
function solution(s: string): boolean {
  const stack: string[] = [];

  for (const char of s) {
    switch (char) {
      case '(':
      case '[':
      case '{':
        stack.push(char);
        break;
      case ')':
        if (stack.pop() !== '(') return false;
        break;
      case ']':
        if (stack.pop() !== '[') return false;
        break;
      case '}':
        if (stack.pop() !== '{') return false;
        break;
    }
  }

  return stack.length === 0;
}
```

**ì‹œê°„ ë³µì¡ë„**: O(n)
**ê³µê°„ ë³µì¡ë„**: O(n)
**ì¥ì **:
- ë§¤í•‘ ê°ì²´ ì—†ì´ ì§ì ‘ ì²˜ë¦¬
- ê° ì¼€ì´ìŠ¤ê°€ ëª…í™•
**ë‹¨ì **:
- ì½”ë“œê°€ ê¸¸ì–´ì§
- í™•ì¥ì„±ì´ ë–¨ì–´ì§ (ìƒˆë¡œìš´ ê´„í˜¸ ì¶”ê°€ ì‹œ switch ìˆ˜ì • í•„ìš”)

---

### ë°©ë²• 3: ë¬¸ìì—´ ì¹˜í™˜ (ë¹„íš¨ìœ¨ì )

```typescript
function solution(s: string): boolean {
  while (s.includes('()') || s.includes('[]') || s.includes('{}')) {
    s = s.replace('()', '').replace('[]', '').replace('{}', '');
  }
  return s.length === 0;
}
```

**ì‹œê°„ ë³µì¡ë„**: O(nÂ²) - ìµœì•…ì˜ ê²½ìš° në²ˆ ë°˜ë³µ Ã— në²ˆ replace
**ê³µê°„ ë³µì¡ë„**: O(n) - ìƒˆ ë¬¸ìì—´ ìƒì„±
**ì¥ì **:
- ë§¤ìš° ì§ê´€ì 
- ìŠ¤íƒ ì—†ì´ í•´ê²°
**ë‹¨ì **:
- O(nÂ²) ì‹œê°„ ë³µì¡ë„ë¡œ ë¹„íš¨ìœ¨ì 
- ë¬¸ìì—´ ë¶ˆë³€ì„±ìœ¼ë¡œ ì¸í•œ ë©”ëª¨ë¦¬ ë‚­ë¹„
- ì‹¤ë¬´ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

---

## ì„±ëŠ¥ ë¹„êµ

| ë°©ë²• | ì‹œê°„ ë³µì¡ë„ | ê³µê°„ ë³µì¡ë„ | ì½”ë“œ ê°„ê²°ì„± | ì¶”ì²œë„ |
|------|------------|------------|-----------|--------|
| ì—¬ëŠ” ê´„í˜¸ ë§¤í•‘ (ë‹¹ì‹ ì˜ í’€ì´) | O(n) | O(n) | â­â­â­â­â­ | â­â­â­â­â­ |
| ë‹«ëŠ” ê´„í˜¸ ë§¤í•‘ | O(n) | O(n) | â­â­â­â­â­ | â­â­â­â­â­ |
| Switch ë¬¸ | O(n) | O(n) | â­â­â­ | â­â­â­â­ |
| ë¬¸ìì—´ ì¹˜í™˜ | O(nÂ²) | O(n) | â­â­â­â­â­ | â­â­ |

---

## ì‹¤í–‰ ê²°ê³¼

```
ì´ 8ê°œ ì¤‘ 8ê°œ í†µê³¼
í‰ê·  ì‹¤í–‰ ì‹œê°„: 0.0066ms
ì´ ì‹¤í–‰ ì‹œê°„: 0.0526ms
```

ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í–ˆê³ , í‰ê·  **0.0066ms**ì˜ ë§¤ìš° ë¹ ë¥¸ ì‹¤í–‰ ì‹œê°„ì„ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤!

---

## ì—£ì§€ ì¼€ì´ìŠ¤ ì²˜ë¦¬

ë‹¹ì‹ ì˜ ì½”ë“œê°€ ì˜ ì²˜ë¦¬í•œ ì—£ì§€ ì¼€ì´ìŠ¤ë“¤:

### 1. ë‹«ëŠ” ê´„í˜¸ë§Œ ìˆëŠ” ê²½ìš°
```typescript
input: ")))"
// stackì´ ë¹„ì–´ìˆëŠ”ë° ë‹«ëŠ” ê´„í˜¸ê°€ ë‚˜ì˜´
// stack[stack.length - 1] = undefined
// key[undefined] !== ')' â†’ false ë°˜í™˜ âœ…
```

### 2. ì—¬ëŠ” ê´„í˜¸ë§Œ ìˆëŠ” ê²½ìš°
```typescript
input: "((("
// ëª¨ë“  ì—¬ëŠ” ê´„í˜¸ê°€ ìŠ¤íƒì— ìŒ“ì„
// stack.length === 3 !== 0 â†’ false ë°˜í™˜ âœ…
```

### 3. ìˆœì„œê°€ ì˜ëª»ëœ ê²½ìš°
```typescript
input: "([)]"
// '(' push â†’ '[' push â†’ ')' ë‚˜ì˜´
// last = '[', key['['] = ']' !== ')' â†’ false ë°˜í™˜ âœ…
```

---

## ìŠ¤íƒì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

### ì™œ ìŠ¤íƒì¸ê°€?

ê´„í˜¸ ë¬¸ì œëŠ” **"ê°€ì¥ ìµœê·¼ì— ì—´ë¦° ê´„í˜¸ê°€ ë¨¼ì € ë‹«í˜€ì•¼ í•œë‹¤"**ëŠ” LIFO íŠ¹ì„±ì„ ê°€ì§‘ë‹ˆë‹¤.

```
ì…ë ¥: "({[]})"

1. '(' ì—´ë¦¼
2.  '{' ì—´ë¦¼
3.   '[' ì—´ë¦¼
4.   ']' ë‹«í˜ â† ê°€ì¥ ìµœê·¼ì— ì—´ë¦° '['ì™€ ì§
5.  '}' ë‹«í˜ â† ê·¸ ë‹¤ìŒ ìµœê·¼ '{'ì™€ ì§
6. ')' ë‹«í˜ â† ê°€ì¥ ë¨¼ì € ì—´ë¦° '('ì™€ ì§

ì´ê²ƒì´ ë°”ë¡œ LIFO (Last In First Out)!
```

### ìŠ¤íƒì´ ì•„ë‹Œ íë¥¼ ì‚¬ìš©í•˜ë©´?

```
íëŠ” FIFO (First In First Out)
ì…ë ¥: "({[]})"

1. '(' enqueue
2. '{' enqueue
3. '[' enqueue
4. ']' í™•ì¸ â†’ dequeueí•˜ë©´ '('ê°€ ë‚˜ì˜´ âŒ
   (ê°€ì¥ ë¨¼ì € ë“¤ì–´ê°„ '('ê°€ ë‚˜ì™€ì„œ ì˜ëª»ë¨)
```

**ìŠ¤íƒì€ ê°€ì¥ ìµœê·¼ ì •ë³´ë¥¼ ì¶”ì í•˜ëŠ” ë° ìµœì ì˜ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤!**

---

## ì‹¤ì „ í™œìš©

ì´ íŒ¨í„´ì€ ë§ì€ ì‹¤ë¬´ ë¬¸ì œì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤:

### 1. HTML/XML íƒœê·¸ ê²€ì¦

```typescript
function isValidHTML(html: string): boolean {
  const stack: string[] = [];
  const regex = /<\/?(\w+)>/g;
  let match;

  while ((match = regex.exec(html)) !== null) {
    const tag = match[1];
    const isClosing = match[0].startsWith('</');

    if (isClosing) {
      if (stack.pop() !== tag) return false;
    } else {
      stack.push(tag);
    }
  }

  return stack.length === 0;
}

console.log(isValidHTML('<div><p>Hello</p></div>')); // true
console.log(isValidHTML('<div><p>Hello</div></p>')); // false
```

### 2. ìˆ˜ì‹ ê´„í˜¸ ê²€ì¦

```typescript
function isValidExpression(expr: string): boolean {
  const stack: string[] = [];

  for (const char of expr) {
    if (char === '(') {
      stack.push(char);
    } else if (char === ')') {
      if (stack.length === 0) return false;
      stack.pop();
    }
  }

  return stack.length === 0;
}

console.log(isValidExpression('(a + b) * (c - d)')); // true
console.log(isValidExpression('((a + b)')); // false
```

### 3. ê´„í˜¸ ì œê±° (ê°€ì¥ ë°”ê¹¥ìª½ ê´„í˜¸ ì œê±°)

```typescript
function removeOuterParentheses(s: string): string {
  const result: string[] = [];
  let depth = 0;

  for (const char of s) {
    if (char === '(') {
      if (depth > 0) result.push(char); // ë°”ê¹¥ìª½ ê´„í˜¸ê°€ ì•„ë‹˜
      depth++;
    } else {
      depth--;
      if (depth > 0) result.push(char); // ë°”ê¹¥ìª½ ê´„í˜¸ê°€ ì•„ë‹˜
    }
  }

  return result.join('');
}

console.log(removeOuterParentheses('(()())(())')); // "()()()"
```

---

## í•µì‹¬ ê°œë…

1. **ìŠ¤íƒì˜ LIFO íŠ¹ì„±**:
   - ê°€ì¥ ìµœê·¼ì— ì—´ë¦° ê´„í˜¸ê°€ ë¨¼ì € ë‹«í˜€ì•¼ í•¨
   - Push: ì—¬ëŠ” ê´„í˜¸
   - Pop: ë‹«ëŠ” ê´„í˜¸ ë§Œë‚¬ì„ ë•Œ

2. **ë§¤í•‘ ê°ì²´ í™œìš©**:
   - ì—¬ëŠ” ê´„í˜¸ â†’ ë‹«ëŠ” ê´„í˜¸ ë§¤í•‘
   - ë˜ëŠ” ë‹«ëŠ” ê´„í˜¸ â†’ ì—¬ëŠ” ê´„í˜¸ ë§¤í•‘
   - ë¹ ë¥¸ ì¡°íšŒ (O(1))

3. **ìµœì¢… ê²€ì¦**:
   - ëª¨ë“  ìˆœíšŒ í›„ `stack.length === 0` í™•ì¸
   - ì—´ë¦° ê´„í˜¸ê°€ ë‚¨ì•„ìˆìœ¼ë©´ ìœ íš¨í•˜ì§€ ì•ŠìŒ

---

## ê°œì„  ê°€ëŠ¥í•œ ì 

í˜„ì¬ ì½”ë“œë„ í›Œë¥­í•˜ì§€ë§Œ, ì•½ê°„ì˜ ê°œì„  ê°€ëŠ¥ì„±:

```typescript
function solution(s: string): boolean {
  const pairs: Record<string, string> = {
    "(": ")",
    "[": "]",
    "{": "}",
  };

  const stack: string[] = [];

  for (const char of s) {
    if (pairs[char]) {
      stack.push(char);
    } else {
      // ìŠ¤íƒì´ ë¹„ì–´ìˆê±°ë‚˜ ì§ì´ ë§ì§€ ì•Šìœ¼ë©´ false
      if (stack.length === 0 || pairs[stack.pop()!] !== char) {
        return false;
      }
    }
  }

  return stack.length === 0;
}
```

**ê°œì„  ì‚¬í•­:**
- `continue` ì œê±°ë¡œ ì½”ë“œ ë” ê°„ê²°
- `stack.length === 0` ì²´í¬ ì¶”ê°€ (ë‹«ëŠ” ê´„í˜¸ê°€ ë¨¼ì € ë‚˜ì˜¤ëŠ” ê²½ìš°)
- í•œ ì¤„ë¡œ ì¡°ê±´ ì²˜ë¦¬

í•˜ì§€ë§Œ ë‹¹ì‹ ì˜ ì›ë˜ ì½”ë“œë„ ì¶©ë¶„íˆ ëª…í™•í•˜ê³  ì½ê¸° ì‰¬ì›Œìš”! ğŸ‘

---

## ê²°ë¡ 

ìŠ¤íƒ ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•´ O(n) ì‹œê°„ ë³µì¡ë„ë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤!

**ë‹¹ì‹ ì˜ í’€ì´ í•˜ì´ë¼ì´íŠ¸:**
- âœ… ë°©ê¸ˆ ë°°ìš´ ìŠ¤íƒ ê°œë…ì„ ë°”ë¡œ ì ìš©! (CS ì§€ì‹ â†’ ì½”ë”© ì‹¤ì „)
- âœ… ì—¬ëŠ” ê´„í˜¸ ë§¤í•‘ìœ¼ë¡œ ê¹”ë”í•œ êµ¬í˜„
- âœ… `continue`ë¡œ ëª…í™•í•œ íë¦„ ì œì–´
- âœ… ëª¨ë“  ì—£ì§€ ì¼€ì´ìŠ¤ ì™„ë²½ ì²˜ë¦¬

í‰ê·  ì‹¤í–‰ ì‹œê°„ **0.0066ms**ëŠ” ë§¤ìš° ë¹ ë¥¸ ì„±ëŠ¥ì…ë‹ˆë‹¤!

ìŠ¤íƒì€ "ê°€ì¥ ìµœê·¼ ì •ë³´ë¥¼ ì¶”ì "í•˜ëŠ” ë¬¸ì œì—ì„œ ìµœê³ ì˜ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤! ğŸ‘
